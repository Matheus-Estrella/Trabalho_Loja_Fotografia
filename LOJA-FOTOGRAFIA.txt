CREATE TABLE CLIENTE
(	
	CODIGO INTEGER IDENTITY(1,1) NOT NULL,
	NOME VARCHAR(50) NOT NULL,
	CEP VARCHAR(11) NOT NULL,
	UF VARCHAR(2) NOT NULL,
	CIDADE VARCHAR(50) NOT NULL,
	TIPOLOGRADOURO VARCHAR(10) NOT NULL,
	LOGRADOURO VARCHAR(100) NOT NULL,
	BAIRRO VARCHAR(50) NOT NULL,
	COMPLEMENTO VARCHAR(50),
	NUMERO INT NOT NULL,
	TELRESIDENCIAL VARCHAR(11),
	TELCOMERCIAL VARCHAR(11),
	TELCELULAR VARCHAR(11) NOT NULL,
	RGCLIENTE VARCHAR(10),
	CPFCLIENTE VARCHAR(11),
	DTNASCIMENTO DATE,
	SEXOCLIENTE VARCHAR(1),
	CNPJ VARCHAR(14),
	INSCRICAOESTADUAL VARCHAR(14),
	NOMERESPONSAVEL VARCHAR(50),
	CONSTRAINT PKCLIENTE PRIMARY KEY (CODIGO),
	CONSTRAINT UKCPFCNPJ UNIQUE (CPFCLIENTE, CNPJ)
)

INSERT INTO CLIENTE (NOME, CEP, UF, CIDADE, TIPOLOGRADOURO, LOGRADOURO, BAIRRO, COMPLEMENTO, NUMERO, TELCELULAR, 
RGCLIENTE, CPFCLIENTE, DTNASCIMENTO, SEXOCLIENTE,
CNPJ, INSCRICAOESTADUAL, NOMERESPONSAVEL)
VALUES ('MATHEUS', '14802020', 'SP', 'ARARAQUARA', 'RUA', 'SAO BENTO', 'CENTRO', NULL, 20, '16992383838',
'409992222', '42133309848', '1994-01-01', 'M',
NULL, NULL, NULL)

INSERT INTO CLIENTE (NOME, CEP, UF, CIDADE, TIPOLOGRADOURO, LOGRADOURO, BAIRRO, COMPLEMENTO, NUMERO, TELCELULAR, 
RGCLIENTE, CPFCLIENTE, DTNASCIMENTO, SEXOCLIENTE,
CNPJ, INSCRICAOESTADUAL, NOMERESPONSAVEL)
VALUES ('MATHEUS BUSINESS LTDA', '14802020', 'SP', 'ARARAQUARA', 'RUA', 'SAO BENTO', 'CENTRO', NULL, 20, '16992383838',
NULL, NULL, NULL, NULL,
'01333444000123', '132444567123', 'MATHEUS ESTRELLA')

INSERT INTO CLIENTE (NOME, CEP, UF, CIDADE, TIPOLOGRADOURO, LOGRADOURO, BAIRRO, COMPLEMENTO, NUMERO, TELCELULAR, 
RGCLIENTE, CPFCLIENTE, DTNASCIMENTO, SEXOCLIENTE,
CNPJ, INSCRICAOESTADUAL, NOMERESPONSAVEL)
VALUES ('FELIPE PESTANA', '14802020', 'SP', 'ARARAQUARA', 'RUA', 'ALGUMA COISA', 'CENTRO', NULL, 1532, '16882345190',
'3567823945', '39804958723', '1984-08-01', 'M',
NULL, NULL, NULL)



CREATE TABLE FUNCIONARIO 
(	
	CODIGO INTEGER IDENTITY(1,1) NOT NULL,
	NOME VARCHAR(50) NOT NULL,
	CEP VARCHAR(11) NOT NULL,
	UF VARCHAR(2) NOT NULL,
	CIDADE VARCHAR(50) NOT NULL,
	TIPOLOGRADOURO VARCHAR(10) NOT NULL,
	LOGRADOURO VARCHAR(100) NOT NULL,
	BAIRRO VARCHAR(50) NOT NULL,
	COMPLEMENTO VARCHAR(50) NOT NULL,
	NUMERO INT NOT NULL,
	TELEFONE VARCHAR(11) NOT NULL,
	TELEFONECONTATO VARCHAR(50) NOT NULL,
	FUNCAO VARCHAR(20) NOT NULL,
	DEPARTAMENTO VARCHAR(30) NOT NULL,
	CPF VARCHAR(11) NOT NULL
	CONSTRAINT PKFUNCIONARIO PRIMARY KEY (CODIGO),
	CONSTRAINT UKFUNCIONARIO UNIQUE (CPF)
)


INSERT INTO FUNCIONARIO (NOME, CEP, UF, CIDADE, TIPOLOGRADOURO, LOGRADOURO, BAIRRO, COMPLEMENTO, NUMERO, TELEFONE, TELEFONECONTATO, FUNCAO, DEPARTAMENTO, CPF)
VALUES ('MATHEUS', '14802020', 'SP', 'ARARAQUARA', 'RUA', 'SETE DE SETEMBRO', 'CENTRO', '', 500, '16999999999', 'DONA ROSA', 'VENDEDOR', 'VENDAS', '04239528312')





CREATE TABLE PRODUTO
(	
	CODIGO INTEGER IDENTITY(1,1) NOT NULL,
	DESCRICAO VARCHAR(50) NOT NULL,
	VALORCUSTO NUMERIC(7,2) NOT NULL,
	VALORVENDA NUMERIC(7,2) NOT NULL,
	QTDEESTOQUE INT NOT NULL,
	QTDEMINIMA INT NOT NULL,
	TIPO VARCHAR(20) NOT NULL,
	CONSTRAINT PKPRODUTO PRIMARY KEY (CODIGO),
	CONSTRAINT UKPRODUTO UNIQUE (DESCRICAO, TIPO)
)


INSERT INTO PRODUTO (DESCRICAO, VALORCUSTO, VALORVENDA, QTDEESTOQUE, QTDEMINIMA, TIPO)
VALUES ('PRODUTO A', 30.00, 70.00, 3, 1, 'CATEGORIA 1')

INSERT INTO PRODUTO (DESCRICAO, VALORCUSTO, VALORVENDA, QTDEESTOQUE, QTDEMINIMA, TIPO)
VALUES ('PRODUTO B', 50.00, 100.00, 3, 1, 'CATEGORIA 1')

INSERT INTO PRODUTO (DESCRICAO, VALORCUSTO, VALORVENDA, QTDEESTOQUE, QTDEMINIMA, TIPO)
VALUES ('PRODUTO A', 5.00, 8.00, 3, 1, 'CATEGORIA 2')






CREATE TABLE VENDA
(	
	NUMERO INTEGER IDENTITY(1,1),
	CODIGOCLIENTE INTEGER,
	DATAVENDA DATE,
	CONDICAOPAGAMENTO VARCHAR(20),
	CODIGOFUNCIONARIO INTEGER,
	CONSTRAINT PKVENDA PRIMARY KEY (NUMERO),
	CONSTRAINT FKCLIENTE FOREIGN KEY (CODIGOCLIENTE) REFERENCES CLIENTE(CODIGO),
	CONSTRAINT FKFUNCIONARIOVENDA FOREIGN KEY (CODIGOFUNCIONARIO) REFERENCES FUNCIONARIO(CODIGO)
)
INSERT INTO VENDA (CODIGOCLIENTE, DATAVENDA, CONDICAOPAGAMENTO, CODIGOFUNCIONARIO)
VALUES (1, GETDATE(), 'A VISTA', 1)

INSERT INTO VENDA (CODIGOCLIENTE, DATAVENDA, CONDICAOPAGAMENTO, CODIGOFUNCIONARIO)
VALUES (3, '2024-05-16', 'A PRAZO', 1)




CREATE TABLE ITEMVENDA
(
	NUMEROVENDA INTEGER,
	CODIGOPRODUTO INTEGER,
	VALORVENDA NUMERIC(7,2),
	QTDEPRODUTO INTEGER,
	VALORTOTAL NUMERIC(7,2),
	CONSTRAINT FKVENDA FOREIGN KEY (NUMEROVENDA) REFERENCES VENDA(NUMERO),
	CONSTRAINT FKPRODUTO FOREIGN KEY (CODIGOPRODUTO) REFERENCES PRODUTO(CODIGO)
)

INSERT INTO ITEMVENDA (NUMEROVENDA, CODIGOPRODUTO, VALORVENDA, QTDEPRODUTO, VALORTOTAL)
VALUES (1, 1, 70, 2, 140)

INSERT INTO ITEMVENDA (NUMEROVENDA, CODIGOPRODUTO, VALORVENDA, QTDEPRODUTO, VALORTOTAL)
VALUES (1, 2, 100, 2, 200)

INSERT INTO ITEMVENDA (NUMEROVENDA, CODIGOPRODUTO, VALORVENDA, QTDEPRODUTO, VALORTOTAL)
VALUES (2, 3, 8, 5, 40)




SELECT * FROM PRODUTO

SELECT * FROM CLIENTE

SELECT * FROM FUNCIONARIO

SELECT * FROM VENDA

SELECT * FROM ITEMVENDA


/*
DROP TABLE PRODUTO
DROP TABLE CLIENTE
DROP TABLE FUNCIONARIO
DROP TABLE VENDA
DROP TABLE ITEMVENDA
*/